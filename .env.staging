# ðŸ”§ HustleFinder AI - Staging Environment Configuration
# This file contains staging-specific environment variables for pre-production testing

# =============================================================================
# Environment & Application Settings
# =============================================================================
NODE_ENV=staging
DEBUG=hustlefinder:*
LOG_LEVEL=info

# API Configuration
PORT=3001
API_VERSION=v1
API_RATE_LIMIT=5000
CORS_ENABLED=true
CORS_ORIGIN=https://staging.hustlefinder.ia,https://staging-api.hustlefinder.ia

# =============================================================================
# Database Configuration (Staging)
# =============================================================================
# Staging database
DB_HOST=staging-db.hustlefinder.internal
DB_PORT=5432
DB_NAME=hustlefinder_staging
DB_USER=hustlefinder_staging
# POSTGRES_PASSWORD - Set via K8s secret

# Connection pooling
DB_POOL_MIN=2
DB_POOL_MAX=8
DB_POOL_IDLE_TIMEOUT=30000

# =============================================================================
# Redis Configuration (Staging)
# =============================================================================
REDIS_HOST=staging-redis.hustlefinder.internal
REDIS_PORT=6379
# REDIS_PASSWORD - Set via K8s secret if auth enabled

# =============================================================================
# AI Provider Configuration (Staging)
# =============================================================================
# OpenAI (staging/test keys)
# OPENAI_API_KEY - Set via K8s secret
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_RATE_LIMIT=100

# Anthropic (staging/test keys)
# ANTHROPIC_API_KEY - Set via K8s secret  
ANTHROPIC_MODEL=claude-3-haiku-20240307
ANTHROPIC_RATE_LIMIT=50

# =============================================================================
# Security Configuration (Staging)
# =============================================================================
# JWT Configuration (staging keys)
# JWT_SECRET - Set via K8s secret
JWT_ACCESS_EXPIRY=30m
JWT_REFRESH_EXPIRY=7d
# JWT_REFRESH_SECRET - Set via K8s secret

# Encryption (staging keys via secrets)
# STAGING_MASTER_KEY - Set via K8s secret (32+ chars)
# MARKETPLACE_ENCRYPTION_KEY - Set via K8s secret

# Security settings
REQUIRE_MFA=false
SESSION_TIMEOUT=7200000
MAX_LOGIN_ATTEMPTS=10
LOCKOUT_DURATION=300000

# =============================================================================
# OAuth Configuration (Staging)
# =============================================================================
# Google OAuth (staging app)
# GOOGLE_CLIENT_ID - Set via K8s secret
# GOOGLE_CLIENT_SECRET - Set via K8s secret
GOOGLE_REDIRECT_URI=https://staging-api.hustlefinder.ia/auth/google/callback

# GitHub OAuth (staging app)
# GITHUB_CLIENT_ID - Set via K8s secret
# GITHUB_CLIENT_SECRET - Set via K8s secret
GITHUB_REDIRECT_URI=https://staging-api.hustlefinder.ia/auth/github/callback

# =============================================================================
# Payment Provider Configuration (Staging/Test Mode)
# =============================================================================
# Stripe (test mode)
# STRIPE_SECRET_KEY - Set via K8s secret (test key)
# STRIPE_PUBLISHABLE_KEY - Set via K8s secret (test key)
# STRIPE_WEBHOOK_SECRET - Set via K8s secret (test key)
STRIPE_TEST_MODE=true

# PayPal (sandbox)
# PAYPAL_CLIENT_ID - Set via K8s secret (sandbox)
# PAYPAL_CLIENT_SECRET - Set via K8s secret (sandbox)
PAYPAL_SANDBOX=true

# =============================================================================
# Monitoring & Logging (Staging)
# =============================================================================
# Metrics and monitoring
PROMETHEUS_ENABLED=true
METRICS_PORT=9090
# GRAFANA_PASSWORD - Set via K8s secret

# Logging configuration
LOG_TO_FILE=true
LOG_FILE=/app/logs/hustlefinder-staging.log
LOG_ROTATION=true
LOG_MAX_SIZE=100MB
LOG_MAX_FILES=5

# Performance monitoring
PERFORMANCE_MONITORING=true
ENABLE_PROFILING=true
APM_SERVICE_NAME=hustlefinder-ai-staging

# =============================================================================
# Alex Licorne Configuration (Staging)
# =============================================================================
# Consciousness settings
ALEX_CONSCIOUSNESS_ENABLED=true
DREAM_MODE_ENABLED=true
MULTIMODAL_ENABLED=true
CREATIVITY_THRESHOLD=0.6

# Dream configuration (staging optimized)
DREAM_INTERVAL=180000
MAX_DREAM_DURATION=30000
ENABLE_LEARNING_FROM_DREAMS=true
MAX_DREAM_STORAGE=500

# =============================================================================
# Cloud Provider Configuration (Staging)
# =============================================================================
CLOUD_PROVIDER=aws
ENABLE_MULTI_CLOUD=true

# AWS (staging account)
# AWS_ACCESS_KEY_ID - Set via K8s secret
# AWS_SECRET_ACCESS_KEY - Set via K8s secret
AWS_REGION=us-east-1

# GCP (staging project)
GCP_PROJECT_ID=hustlefinder-staging
# GCP_SERVICE_ACCOUNT_KEY - Set via K8s secret

# =============================================================================
# Feature Flags (Staging)
# =============================================================================
ENABLE_CACHING=true
ENABLE_RATE_LIMITING=true
REQUIRE_MFA=false
ENABLE_API_DOCS=true
ENABLE_ADMIN_PANEL=true

# Security features
ENABLE_CSRF_PROTECTION=true
ENABLE_HELMET_SECURITY=true
ENABLE_ABUSE_DETECTION=true

# =============================================================================
# Performance Configuration (Staging)
# =============================================================================
# Cluster settings
CLUSTER_ENABLED=false
CLUSTER_WORKERS=1

# Cache settings
ENABLE_CACHING=true
CACHE_TTL=900
CACHE_MAX_SIZE=500
REDIS_CACHE_ENABLED=true

# Compression
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=4

# =============================================================================
# Marketplace Configuration (Staging)
# =============================================================================
MARKETPLACE_STORAGE_DIR=/app/storage/marketplace-staging
MARKETPLACE_MAX_MODULE_SIZE=26214400
MARKETPLACE_ALLOW_TEST_MODULES=true
MARKETPLACE_ENCRYPTION_ENABLED=true

# =============================================================================
# Email Configuration (Staging)
# =============================================================================
EMAIL_ENABLED=true
# SMTP_HOST - Set via K8s secret
# SMTP_PORT - Set via K8s secret
# SMTP_USER - Set via K8s secret  
# SMTP_PASS - Set via K8s secret
SMTP_SECURE=true

# Email templates
EMAIL_FROM_ADDRESS=staging@hustlefinder.ia
EMAIL_FROM_NAME=HustleFinder AI Staging

# =============================================================================
# Backup Configuration (Staging)
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 4 * * *  # Daily at 4 AM
BACKUP_RETENTION_DAYS=7
BACKUP_ENCRYPTION_ENABLED=true

# =============================================================================
# CDN Configuration (Staging)
# =============================================================================
CDN_ENABLED=true
CDN_URL=https://staging-cdn.hustlefinder.ia
STATIC_ASSETS_CDN=true

# =============================================================================
# Health Check Configuration (Staging)
# =============================================================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/api/health
DEEP_HEALTH_CHECK_PATH=/api/health/deep

# Dependencies health check
CHECK_DATABASE_HEALTH=true
CHECK_REDIS_HEALTH=true
CHECK_AI_PROVIDERS_HEALTH=true

# =============================================================================
# Testing & QA (Staging)
# =============================================================================
# Test automation
ENABLE_TEST_ROUTES=true
ENABLE_MOCK_DATA=true
LOAD_TEST_DATA=true

# QA features
ENABLE_DEBUG_MODE=true
DETAILED_ERROR_RESPONSES=true
ENABLE_PERFORMANCE_TRACES=true

# =============================================================================
# API Configuration (Staging)
# =============================================================================
# API versioning
API_VERSION_HEADER=X-API-Version
API_DEPRECATION_WARNINGS=true

# Documentation
API_DOCS_ENABLED=true
SWAGGER_UI_ENABLED=true
API_PLAYGROUND_ENABLED=true

# Request limits
MAX_REQUEST_SIZE=10MB
MAX_JSON_SIZE=1MB
REQUEST_TIMEOUT=30000

# =============================================================================
# Monitoring & Alerting (Staging)  
# =============================================================================
# External monitoring
EXTERNAL_MONITORING_ENABLED=true
# SENTRY_DSN - Set via K8s secret (staging environment)

# Alerting (less aggressive than production)
ALERT_ON_ERRORS=true
ALERT_ON_HIGH_CPU=false
ALERT_ON_HIGH_MEMORY=false
ALERT_ON_HIGH_LATENCY=true

# Alert thresholds (more relaxed for staging)
ERROR_RATE_THRESHOLD=0.1
CPU_THRESHOLD=0.9
MEMORY_THRESHOLD=0.9
LATENCY_THRESHOLD=5000

# =============================================================================
# Staging-Specific Settings
# =============================================================================
# Data refresh
AUTO_REFRESH_TEST_DATA=true
REFRESH_INTERVAL=86400000  # Daily

# Load testing
ENABLE_LOAD_TEST_ENDPOINTS=true
SYNTHETIC_LOAD_ENABLED=false

# Feature testing
ENABLE_EXPERIMENTAL_FEATURES=true
FEATURE_ROLLOUT_PERCENTAGE=50

# =============================================================================
# Misc Staging Settings
# =============================================================================
# Process management
GRACEFUL_SHUTDOWN_TIMEOUT=15000
KEEP_ALIVE_TIMEOUT=5000

# Memory management
NODE_OPTIONS=--max-old-space-size=1024

# Timezone
TZ=UTC

# Application info
APP_NAME=HustleFinder AI
APP_VERSION=1.0.0
APP_ENVIRONMENT=staging